UMKa -- User-Mode KolibriOS developer tools
===========================================

This is a common project for a set of KolibriOS developer tools which are based
on original KolibriOS code wrapped and hacked as to run in the UNIX programming
environment. The idea is to make userspace UNIX tools that use as much unchanged
KolibriOS source as possible to test architecture-independent parts of the
kernel in your favorite developer environment.


umka_shell
----------

is an interactive shell with commands that are wrappers around KolibriOS kernel
block, FS, UI and other functions. Can read input from the keyboard, stdin and a
file, i.e. can be used for automated testing.


umka_fuse
---------

is like umka_shell above but commands are translated from FUSE calls, not
entered manually. Can *potentially* be used to run xfstests (cross-fs-tests) and
automatestrcatd tests against reference FS implementations.


BUILD
-----

$ KOLIBRI=/path/to/kolibrios make

/path/to/kolibrios is where you checked out `svn co svn://kolibrios.org`.


Architecture
------------

Kernel services are replaced with stubs, wrappers around userspace
implementation or libc calls. Block devices are emulated with regular files.
Framebuffer can be dumped to disk as image file.


Testing
-------

sudo cp --parents --no-preserve=mode /sys/firmware/acpi/tables/?SDT* /sys/bus/pci/devices/*/config . > /data/work/proj/kolibri/umka/acpi.txt


Troubleshooting
---------------

No troubles -- no shooting.


Links & Acknowledgements
------------------------

[1] Filesystem in Userspace library
    https://github.com/libfuse/libfuse

[2] LodePNG by Lode Vandevenne
    https://lodev.org/lodepng/
